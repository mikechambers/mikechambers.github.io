
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Pre-Processing ActionScript Files / Classes - Mike Chambers</title>
  <meta name="author" content="Mike Chambers">

  
  <meta name="description" content="One thing I often do in my code is create custom trace / output functions that recursively go through and print out properties. However, this &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://mikechambers.github.io/2005/03/30/pre-processing-actionscript-files-classes">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Mike Chambers" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>-->
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!--
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
-->

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-553659-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>



<body >

<!--
<body   >
-->
  <header role="banner"><hgroup>
  <h1><a href="/">Mike Chambers</a></h1>
  
    <h2>code is beautiful</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:mikechambers.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Pre-Processing ActionScript Files / Classes</h1>
    

    
      <p class="meta">
        <!--








  


<time datetime="2005-03-30T00:00:00-08:00" pubdate data-updated="true"></time>-->
        
      </p>
    
  </header>


<div class="entry-content"><p>One thing I often do in my code is create custom trace / output functions that recursively go through and print out properties. However, this requires that I add some custom code to my classes which I don&#8217;t really want in the final version.</p>

<p>So, I started exploring pre-processors that I could use to make it easier to add and remove debugging code. I first looked at [m4][1]. While it seems to be very powerful, it was overkill for what I needed, and looked to be very difficult to use. Christian Cantrell then suggested that I look at [cpp][2], a C pre-processor. I checked it out, and it does exactly what I need, in an easy to learn and use syntax.</p>

<!--more-->


<p>For example, here is a simple class, in a file call HelloWorld.p</p>

<p>`</p>

<pre>class HelloWorld
{
    function HelloWorld()
    {
        #ifdef DEBUG
            trace("Hello World Loaded");
        #endif
    }
}</pre>


<p><p>`</p>

<p>[#ifdef][3] is a cpp directive that is basically an if statement. If the DEBUG variable is defined, then the block will be included in the generated file, if not, then it will be omitted.</p>

<p>I then run this file through cpp like so:</p>

<p><em>cpp -D DEBUG -P HelloWorld.p HelloWorld.as</em></p>

<p>The <em>-D DEBUG</em> defines the DEBUG variable. <em>-P</em> tells cpp to not insert line-markers in the generated file. You have to use this for ActionScript or else Flash won&#8217;t compile your file. (You can find a completel list of command-line args [here][4]).</p>

<p>Running this results in the following HellowWorld.as file:</p>

<p>`
<pre>class HelloWorld
{</p>

<pre><code>function HelloWorld()
{
        trace("Hello World Loaded");
}
</code></pre>

<p>}</pre>
<p>`</p>

<p>Running it without defining DEBUG:</p>

<p><em>cpp -P HelloWorld.p HelloWorld.as</em></p>

<p>results in the following file:</p>

<p>`
<pre>class HelloWorld
{</p>

<pre><code>function HelloWorld()
{
}
</code></pre>

<p>}</pre>
<p>`</p>

<p>With the trace statement removed.</p>

<p>Note that by default, cpp will remove any comments from the generated AS file. If you want it to keep the comments in the file, just add <em>-C</em> to the argumenst that you pass to cpp</p>

<p>Anyways, this is just a simple example. There are a [ton of directives][2] you can use, and you can also define your own.</p>

<p>The main thing that you have to remember is that you must run your class file through cpp before it is compiled by Flash. Flash is compiling the file generated by cpp, and not the file you are editing.</p>

<p>You can find more info on cpp [here][2], and you can download it from [here][5] (it is included with the GCC compiler).</p>

<p>Note, cpp is included on Mac OS X, but for some reason would not work for me. I had to download the source, and compile it before I could get it to work. If anyone can get it to work on Mac, let me know in the comments.</p>

<p>Post any additional tips / uses of cpp with ActionScript, or suggestions in the comments.</p>

<p> [1]: <a href="http://www.gnu.org/software/m4/">http://www.gnu.org/software/m4/</a>
 [2]: <a href="http://gcc.gnu.org/onlinedocs/cpp/">http://gcc.gnu.org/onlinedocs/cpp/</a>
 [3]: <a href="http://gcc.gnu.org/onlinedocs/cpp/Ifdef.html#Ifdef">http://gcc.gnu.org/onlinedocs/cpp/Ifdef.html#Ifdef</a>
 [4]: <a href="http://gcc.gnu.org/onlinedocs/cpp/Invocation.html#Invocation">http://gcc.gnu.org/onlinedocs/cpp/Invocation.html#Invocation</a>
 [5]: <a href="http://directory.fsf.org/gcc.html">http://directory.fsf.org/gcc.html</a></p>
</div>


  <footer>
    <p class="meta">
      <!--
  

<span class="byline author vcard">Posted by <span class="fn">mikechambers</span></span>

      








  


<time datetime="2005-03-30T00:00:00-08:00" pubdate data-updated="true"></time>
-->

  

<span class="byline author vcard">Posted by <span class="fn">mikechambers</span></span>
 on 








  


<time datetime="2005-03-30T00:00:00-08:00" pubdate data-updated="true"></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/general/'>General</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://mikechambers.github.io/2005/03/30/pre-processing-actionscript-files-classes/" data-via="" data-counturl="http://mikechambers.github.io/2005/03/30/pre-processing-actionscript-files-classes/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2005/03/30/colin-moock-is-holding-camp/" title="Previous Post: Colin Moock is holding camp">&laquo; Colin Moock is holding camp</a>
      
      
        <a class="basic-alignment right" href="/2005/03/31/using-a-pre-processor-with-actionscript-to-define-constants/" title="Next Post: Using a Pre-processor with ActionScript to define constants">Using a Pre-processor with ActionScript to define constants &raquo;</a>
      
    </p>
  </footer>
</article>

</div>
<!--

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/12/14/test-post/">Test Post</a>
      </li>
    
      <li class="post">
        <a href="/2012/04/08/simple-http-server-for-local-testing/">Simple HTTP Server for Local Testing</a>
      </li>
    
      <li class="post">
        <a href="/2012/04/02/north-american-flash-community-tour/">North American Flash Community Tour</a>
      </li>
    
      <li class="post">
        <a href="/2012/02/22/flash-roadmap-whitepaper-published/">Flash Roadmap Whitepaper Published</a>
      </li>
    
      <li class="post">
        <a href="/2012/02/13/in-europe-to-discuss-flash-roadmap/">In Europe to Discuss Flash Roadmap</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/mikechambers">@mikechambers</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'mikechambers',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

-->

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Mike Chambers -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'mikechambers';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Using Pixel Bender Filters within Flex</title>
        <meta name="viewport" content="width=device-width">

		<script type="text/javascript" src="//use.typekit.net/gib0bhv.js"></script>
		<script type="text/javascript">try{Typekit.load();}catch(e){}</script>

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/blog/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/blog/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/blog/">mike chambers</a> | <a href="">about</a></h1>
          </div>

          <h2>Using Pixel Bender Filters within Flex</h2>
<p class="meta">Monday, September 8, 2008</p>

<div class="post">
<p>Following up on my earlier post on <a href="http://www.mikechambers.com/blog/2008/09/08/embedding-pixel-bender-filters-within-a-swf/">how to embed Pixel Bender filters within a SWF</a>, here is a super simple example that show how to use a Pixel Bender filter within a Flex application.</p>

<p>Compiled using the <a href="http://opensource.adobe.com/wiki/display/flexsdk/Download+Flex+3">Flex 3.1.0.2710 SDK</a>, and requires <a href="http://labs/technologies/flashplayer10/">Flash Player 10</a>.<br>
&lt;!--more--&gt;</p>

<div class="highlight">
  <pre><span style="color: #666666">&lt;?</span>xml version<span style="color: #666666">=</span><span style="color: #BA2121">"1.0"</span> encoding<span style="color: #666666">=</span><span style="color: #BA2121">"utf-8"</span><span style="color: #666666">?&gt;</span>
<span style="color: #666666">&lt;</span>mx<span style="color: #666666">:</span>Application xmlns<span style="color: #666666">:</span>mx<span style="color: #666666">=</span><span style="color: #BA2121">"http://www.adobe.com/2006/mxml"</span> layout<span style="color: #666666">=</span><span style="color: #BA2121">"absolute"</span>
    applicationComplete<span style="color: #666666">=</span><span style="color: #BA2121">"onApplicationComplete()"</span><span style="color: #666666">&gt;</span>
    
    <span style="color: #666666">&lt;</span>mx<span style="color: #666666">:</span>Script<span style="color: #666666">&gt;</span>
        <span style="color: #666666">&lt;!</span>[CDATA[
            <span style="color: #008000; font-weight: bold">import</span> flash.filters.<span style="color: #666666">*;</span>
            <span style="color: #008000; font-weight: bold">import</span> flash.utils.ByteArray<span style="color: #666666">;</span>        
        
            <span style="color: #408080; font-style: italic">//the file that contains the binary bytes of the PixelBender filter</span>
            [Embed(<span style="color: #BA2121">"testfilter.pbj"</span><span style="color: #666666">,</span> mimeType<span style="color: #666666">=</span><span style="color: #BA2121">"application/octet-stream"</span>)]
            <span style="color: #008000; font-weight: bold">private</span> <span style="color: #008000; font-weight: bold">var</span> TestFilter<span style="color: #666666">:</span>Class<span style="color: #666666">;</span>     
            
            <span style="color: #008000; font-weight: bold">private</span> <span style="color: #008000; font-weight: bold">function</span> onApplicationComplete()<span style="color: #666666">:</span>void
            {
                <span style="color: #408080; font-style: italic">//Pass the loaded filter to the Shader as a ByteArray</span>
                <span style="color: #008000; font-weight: bold">var</span> shader<span style="color: #666666">:</span>Shader <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> Shader(<span style="color: #008000; font-weight: bold">new</span> TestFilter() as ByteArray);
            
                shader.data.amount.value <span style="color: #666666">=</span> [<span style="color: #666666">100</span>];
                <span style="color: #008000; font-weight: bold">var</span> filter<span style="color: #666666">:</span>ShaderFilter <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> ShaderFilter(shader);
            
                <span style="color: #408080; font-style: italic">//add the filter to the image</span>
                im.filters <span style="color: #666666">=</span> [filter];
            }
        ]]<span style="color: #666666">&gt;</span>
    <span style="color: #666666">&lt;/</span>mx<span style="color: #666666">:</span>Script<span style="color: #666666">&gt;</span>
    
    <span style="color: #666666">&lt;</span>mx<span style="color: #666666">:</span>Image right<span style="color: #666666">=</span><span style="color: #BA2121">"288"</span> left<span style="color: #666666">=</span><span style="color: #BA2121">"40"</span> top<span style="color: #666666">=</span><span style="color: #BA2121">"26"</span> bottom<span style="color: #666666">=</span><span style="color: #BA2121">"108"</span> id<span style="color: #666666">=</span><span style="color: #BA2121">"im"</span> source<span style="color: #666666">=</span><span style="color: #BA2121">"@Embed(source=&#39;image.jpg&#39;)"</span><span style="color: #666666">/&gt;</span>
<span style="color: #666666">&lt;/</span>mx<span style="color: #666666">:</span>Application<span style="color: #666666">&gt;</span>
</pre>
</div>

<p>You can see an example of the filter <a href="http://flickr.com/photos/mikechambers/2840691963/">here</a>.</p>

<p>You can find more information on Pixel Bender <a href="www.adobe.com/go/pixelbender">here</a>. </p>

<p>You can download the filter from <a href="http://www.gotoandlearn.com/player.php?id=84">here</a>.</p>

</div>


          <div class="footer">
			<p>Copyright 2013 - Mike Chambers</p>
        </div>
		
		<div id="social">
			<a href="http://www.twitter.com/mesh/"><image src="/blog/images/social/twitter.png" width="50" height="50" alt="twitter" /></a>
			<a href="https://github.com/mikechambers/"><image src="/blog/images/social/github.png" width="50" height="50" alt="github" /></a>
			<a href="http://www.flickr.com/photos/mikechambers/"><image src="/blog/images/social/flickr.png" width="50" height="50" alt="flickr" /></a>
			<a href="http://www.behance.net/mikechambers"><image src="/blog/images/social/behance.png" width="50" height="50" alt="behance" /></a>
			<a href="http://www.twitter.com/mesh/"><image src="/blog/images/social/rss.png" width="50" height="50" alt="rss" /></a>
		</div>

    </body>
</html>

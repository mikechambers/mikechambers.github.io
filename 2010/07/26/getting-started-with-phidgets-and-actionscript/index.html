
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Getting Started With Phidgets and ActionScript 3 - Mike Chambers</title>
  <meta name="author" content="Mike Chambers">

  
  <meta name="description" content="Phidgets are a set of devices and sensors that provide a simple way for developers to create applications that both send and receiving information &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://mikechambers.github.io//2010/07/26/getting-started-with-phidgets-and-actionscript">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Mike Chambers" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>-->
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!--
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
-->

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-553659-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>



<body >

<!--
<body   >
-->
  <header role="banner"><hgroup>
  <h1><a href="/">Mike Chambers</a></h1>
  
    <h2>code is beautiful</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:mikechambers.github.io/" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Getting Started With Phidgets and ActionScript 3</h1>
    

    
      <p class="meta">
        <!--








  


<time datetime="2010-07-26T13:03:01-07:00" pubdate data-updated="true">Monday, July 26, 2010</time>-->
        
      </p>
    
  </header>


<div class="entry-content"><p><a href="http://www.phidgets.com/index.php">Phidgets</a> are a set of devices and sensors that provide a simple way for developers to create applications that both send and receiving information from external sensors, motors and pretty much anything else you can hook up via electronics. They are similar to the open source <a href="http://www.arduino.cc/">Arduino</a> electronic platform.</p>

<p>Im not going to do a big comparison between Arduino and Phidgets in this post. I plan to do that in another post (along with an Arduino / Flash hello world article). Suffice it to say though, that one of the major benefits of Phidgets, is that the Phidgets devices are a bit higher level, both on the hardware, and software side and thus can be a little easier for a developer new to electronics to get started with.</p>

<!--more-->


<p>If you are a Flash developer, Phidget&rsquo;s are very attractive, as they provide a very well developed and documented <a href="http://www.phidgets.com/programming_resources.php">ActionScript API for working with the Phidgets devices</a>. The API works by connecting via a socket from Flash content, to a Phidgets local (or remote) server. The Phidgets server connects directly to the Phidgets devices over USB, and proxies communication between the Flash / ActionScript content, and the Phidgets devices and electronics.</p>

<p>In this post, I will cover everything you need to know in order to get started integrating Phidgets electronics and Flash / ActionScript content.</p>

<p>You can grab all of the code for the example from my <a href="http://github.com/mikechambers/ExamplesByMesh/tree/master/Phidgets/PhidgetsHelloWorld/">GitHub Example repository</a>.</p>

<p>First, here is what you will need to get started:</p>

<ul>
<li>An ActionScript 3 compiler (such as <a href="http://www.adobe.com/products/flashbuilder/">Flash Builder</a>, <a href="http://www.adobe.com/products/flash/">Flash Professional</a>, or the open source MXMLC compiler included in the <a href="http://opensource.adobe.com/wiki/display/flexsdk/Download+Flex+4">Flex 4 SDK</a>).</li>
<li>An IDE or text editor to edit ActionScript (such as Flash Builder, Flash Authoring, FDT, TextMate or any other general text editor).</li>
<li>The Phidgets ActionScript 3 library. You can find the library&rsquo;s SWC in Flex 3 Code Sample ZIP file, and can find the source in the Flash AS3 Code Sample Zip file, both on the <a href="http://www.phidgets.com/programming_resources.php">Phidgets programming resources page</a>.</li>
<li>The Phidgets drivers for your platform. This will install the drivers for the devices, as well as the proxy application / server that Flash will use to communicate with the devices. You can download these from the <a href="http://www.phidgets.com/drivers.php">Phidgets driver page</a>.</li>
<li>At least one Phidgets device that can connect directly to your computer USB. If you are just getting started, then I would recommend the <a href="http://www.phidgets.com/products.php?category=0&amp;product_id=1018">1018 &#8211; PhidgetInterfaceKit 8/8/8</a> as it is the most flexible and extensible. This article will assume you are using this kit.</li>
<li>One LED to test the kit with.</li>
</ul>


<p>For this article I will be using <a href="http://macromates.com/">TextMate</a> on a Mac and compiling with the free mxmlc compiler included in the <a href="http://opensource.adobe.com/wiki/display/flexsdk/Download+Flex+4">Flex 4 SDK</a>. We will be running the example via Adobe AIR (via ADL included in the Flex 4 SDK) (although the SWF we create will also work in the Flash Player in the browser).</p>

<p><strong>Install Drivers</strong></p>

<p>First, download and install the <a href="http://www.phidgets.com/drivers.php">Phidgets drivers for your platform</a>. This will install the drivers to interface with the devices via USB, and will also install a standalone application / server that will proxy calls between Flash and the devices.</p>

<p><strong>Test Installation</strong></p>

<p>Once you have installed the drivers, download the <a href="http://www.phidgets.com/documentation/Phidgets/1018.pdf">manual for the 1018 &ndash; PhidgetInterfaceKit 8/8/8</a>. I strongly recommend you read through the entire PDF document, but at a minimum, you will want to read the &ldquo;Product Features&rdquo; and &ldquo;Getting Started&rdquo;&ldquo; sections.</p>

<p>Connect your Phidget via USB to your computer and then read and follow the steps under the <em>Getting Started > Testing</em> section in the 1018 docs. This will show you how to ensure that your Phidgets and software are setup and functioning correctly. Make sure to run the sample program as described in the docs.</p>

<p><strong>Download Phidget ActionScript Library</strong></p>

<p>In order to communication with the Phidgets devices / proxy application via ActionScript, we need to download the Phidgets ActionScript library. There are two Flash related libraries on the <a href="http://www.phidgets.com/programming_resources.php">Phidgets Programming Resources page</a>. The Flash AS3 download contains example FLAs to be run in Flash Authoring (4 or 5), as well as the source code for the Phidgets ActionScript library. The Flex AS3 download contains both Flex / MXML and pure ActionScript examples, as well as the Phidget AS3 Library SWC. You can also download API references and a getting started guide on the page.</p>

<p>You can use either the Phidget library source from the Flash AS3 download, or the Phidget library SWC from the Flex AS3 download. Just make sure to link them in when compiling your ActionScript. For this article I will be using the compiled SWC.</p>

<p><strong>Configure the Phidget</strong></p>

<p>For our simple hello world example, we are going to connect an LED to our Phidget and then turn it on via ActionScript. In order to do this, we need to connect an LED to the PhidgetInterfaceKit. Connect an LED to output pins G (Ground) and 0. Make sure that the long wire (anode) of the LED is connected to pin 0, and the short wire (cathode) is connect to the ground (G).</p>

<p><a href="/blog/images/phidgets/phidget_led.jpg"><img src="/blog/images/phidgets/phidget_led_sm.jpg" alt="title" /></a></p>

<p>Next, make sure that the Phidget is connected to the computer via USB. You can test that everything is connected and hooked up correctly by opening the Phidget preferences, and selecting output 0 on the Phidget Interface Kit screen. This should turn on the LED (make sure to turn it off once you are done).</p>

<p><a href="/blog/images/phidgets/phidget_mac_settings.png"><img src="/blog/images/phidgets/phidget_mac_settings_sm.png" alt="title" /></a></p>

<p><strong>Turn on Phidget Proxy / Server</strong></p>

<p>The last step before we can write our code is to make sure that the Phidget proxy / web server is running. This is a simple socket server that runs locally and proxies calls between Flash and the Phidget.</p>

<p>On Mac, you can start this in <em>System Preferences > Phidgets > Web Service > Start Web Service</em>. Check the <a href="http://www.phidgets.com/documentation/Tutorials/Working_With_PhidgetWebservice.pdf">documentation</a> for how to start it on other platforms.</p>

<p>For now you can leave the ServerID and Password blank, and leave the port at its default value of &ldquo;5001&rdquo;.</p>

<p><strong>Write ActionScript Code</strong></p>

<p>We are finally ready to write the ActionScript code to interface with the Phidget.</p>

<p>Open you ActionScript editor, and type in the following code in a file named PhidgetsHelloWorld.as. The code below is fully commented and explains what is going on.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
</pre></td><td class='code'><pre><code class='actionscript'><span class='line'><span class="cm">/*</span>
</span><span class='line'><span class="cm"> The MIT License</span>
</span><span class='line'>
</span><span class='line'><span class="cm"> Copyright (c) 2010 Mike Chambers</span>
</span><span class='line'>
</span><span class='line'><span class="cm"> Permission is hereby granted, free of charge, to any person obtaining a copy</span>
</span><span class='line'><span class="cm"> of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
</span><span class='line'><span class="cm"> in the Software without restriction, including without limitation the rights</span>
</span><span class='line'><span class="cm"> to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
</span><span class='line'><span class="cm"> copies of the Software, and to permit persons to whom the Software is</span>
</span><span class='line'><span class="cm"> furnished to do so, subject to the following conditions:</span>
</span><span class='line'>
</span><span class='line'><span class="cm"> The above copyright notice and this permission notice shall be included in</span>
</span><span class='line'><span class="cm"> all copies or substantial portions of the Software.</span>
</span><span class='line'>
</span><span class='line'><span class="cm"> THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
</span><span class='line'><span class="cm"> IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
</span><span class='line'><span class="cm"> FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
</span><span class='line'><span class="cm"> AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
</span><span class='line'><span class="cm"> LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
</span><span class='line'><span class="cm"> OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</span>
</span><span class='line'><span class="cm"> THE SOFTWARE.</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'>
</span><span class='line'><span class="kd">package</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">display</span><span class="p">.</span><span class="nb">Sprite</span><span class="o">;</span>
</span><span class='line'>  <span class="kd">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nb">Event</span><span class="o">;</span>
</span><span class='line'>  
</span><span class='line'>  <span class="c1">//import the Phidget classes we need for this example</span>
</span><span class='line'>  <span class="c1">//from the Phidget&#39;s library / SWC</span>
</span><span class='line'>  <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">phidgets</span><span class="p">.</span><span class="nx">Phidget</span><span class="o">;</span>
</span><span class='line'>  <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">phidgets</span><span class="p">.</span><span class="nx">PhidgetInterfaceKit</span><span class="o">;</span>
</span><span class='line'>  <span class="kd">import</span> <span class="nx">com</span><span class="p">.</span><span class="nx">phidgets</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">PhidgetEvent</span><span class="o">;</span>    
</span><span class='line'>  
</span><span class='line'>  <span class="kd">public</span> <span class="kd">class</span> <span class="nx">PhidgetsHelloWorld</span> <span class="kd">extends</span> <span class="nb">Sprite</span>
</span><span class='line'>  <span class="p">{</span>        
</span><span class='line'>      
</span><span class='line'>      <span class="c1">//reference to the Phidget Interface Kit we are connecting to</span>
</span><span class='line'>      <span class="kd">private</span> <span class="k">var</span> <span class="nx">interfaceKit</span><span class="o">:</span><span class="nx">PhidgetInterfaceKit</span><span class="o">;</span>
</span><span class='line'>      
</span><span class='line'>      <span class="c1">//constructor</span>
</span><span class='line'>      <span class="kd">public</span> <span class="kd">function</span> <span class="nx">PhidgetsHelloWorld</span><span class="p">()</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="c1">//listen for when we are added to the stage</span>
</span><span class='line'>          <span class="nx">addEventListener</span><span class="p">(</span><span class="nb">Event</span><span class="p">.</span><span class="nx">ADDED_TO_STAGE</span><span class="o">,</span> <span class="nx">onAddedToStage</span><span class="p">);</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      
</span><span class='line'>      <span class="kd">private</span> <span class="kd">function</span> <span class="nx">onAddedToStage</span><span class="p">(</span><span class="nx">e</span><span class="o">:</span><span class="nb">Event</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="nx">removeEventListener</span><span class="p">(</span><span class="nb">Event</span><span class="p">.</span><span class="nx">ADDED_TO_STAGE</span><span class="o">,</span> <span class="nx">onAddedToStage</span><span class="p">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">//create instance of PhidgetInterfaceKit</span>
</span><span class='line'>          <span class="nx">interfaceKit</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PhidgetInterfaceKit</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>          <span class="c1">//listen for event that we need for this example</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">//connected to proxy</span>
</span><span class='line'>          <span class="nx">interfaceKit</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">PhidgetEvent</span><span class="p">.</span><span class="nx">CONNECT</span><span class="o">,</span> <span class="nx">onConnect</span><span class="p">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">//device attached</span>
</span><span class='line'>          <span class="nx">interfaceKit</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">PhidgetEvent</span><span class="p">.</span><span class="nx">ATTACH</span><span class="o">,</span>  <span class="nx">onAttach</span><span class="p">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">//device detached</span>
</span><span class='line'>          <span class="nx">interfaceKit</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">PhidgetEvent</span><span class="p">.</span><span class="nx">DETACH</span><span class="o">,</span>  <span class="nx">onDetach</span><span class="p">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">//disconnected from proxy</span>
</span><span class='line'>          <span class="nx">interfaceKit</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">PhidgetEvent</span><span class="p">.</span><span class="nx">DISCONNECT</span><span class="o">,</span> <span class="nx">onDisconnect</span><span class="p">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">//proxy address. Usually localhost / 127.0.0.1, but can be any server</span>
</span><span class='line'>          <span class="c1">//on any computer. The proxy returns proper security policy file</span>
</span><span class='line'>          <span class="k">var</span> <span class="nx">serverAddress</span><span class="o">:</span><span class="nb">String</span> <span class="o">=</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="o">;</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">//port the proxy is listening on</span>
</span><span class='line'>          <span class="k">var</span> <span class="nx">serverPort</span><span class="o">:</span><span class="nb">uint</span> <span class="o">=</span> <span class="mi">5001</span><span class="o">;</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">//connect to the proxy and device</span>
</span><span class='line'>          <span class="nx">interfaceKit</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="o">,</span> <span class="mi">5001</span><span class="p">);</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      
</span><span class='line'>      <span class="c1">//called when we connect to the proxy server</span>
</span><span class='line'>      <span class="kd">private</span> <span class="kd">function</span> <span class="nx">onConnect</span><span class="p">(</span><span class="nx">e</span><span class="o">:</span><span class="nx">PhidgetEvent</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="c1">//note, we cannot access any devices here yet, since</span>
</span><span class='line'>          <span class="c1">//we have not connected to them. You have to wait for the</span>
</span><span class='line'>          <span class="c1">//onAttach event</span>
</span><span class='line'>          <span class="nf">trace</span><span class="p">(</span><span class="s2">&quot;-------onConnect------- &quot;</span><span class="p">);</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      
</span><span class='line'>      <span class="c1">//called when we attach / connect to the actual Phidget</span>
</span><span class='line'>      <span class="kd">private</span> <span class="kd">function</span> <span class="nx">onAttach</span><span class="p">(</span><span class="nx">e</span><span class="o">:</span><span class="nx">PhidgetEvent</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="nf">trace</span><span class="p">(</span><span class="s2">&quot;-------onAttach------- &quot;</span><span class="p">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">//get a reference to the device we connected to</span>
</span><span class='line'>          <span class="k">var</span> <span class="nx">device</span><span class="o">:</span><span class="nx">Phidget</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Device</span><span class="o">;</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">//print out a bunch of information about it</span>
</span><span class='line'>          <span class="nf">trace</span><span class="p">(</span><span class="nx">device</span><span class="p">.</span><span class="nx">Name</span> <span class="o">+</span> <span class="s2">&quot; : &quot;</span> <span class="o">+</span> <span class="nx">device</span><span class="p">.</span><span class="nx">Label</span><span class="p">);</span>
</span><span class='line'>          <span class="nf">trace</span><span class="p">(</span><span class="s2">&quot;Version : &quot;</span> <span class="o">+</span> <span class="nx">device</span><span class="p">.</span><span class="nx">Version</span><span class="p">);</span>
</span><span class='line'>          <span class="nf">trace</span><span class="p">(</span><span class="s2">&quot;Serial : &quot;</span> <span class="o">+</span> <span class="nx">device</span><span class="p">.</span><span class="nx">serialNumber</span><span class="p">);</span>
</span><span class='line'>          
</span><span class='line'>          
</span><span class='line'>          <span class="c1">//output number / pin that the LED is connected to</span>
</span><span class='line'>          <span class="k">var</span> <span class="nx">outputPin</span><span class="o">:</span><span class="nb">uint</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">//state to set the output pin. true = on, false = off</span>
</span><span class='line'>          <span class="k">var</span> <span class="nx">state</span><span class="o">:</span><span class="nb">Boolean</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">//set the output state for pin 0 to true / on.</span>
</span><span class='line'>          <span class="c1">//this will turn on the LED</span>
</span><span class='line'>          <span class="nx">interfaceKit</span><span class="p">.</span><span class="nx">setOutputState</span><span class="p">(</span><span class="nx">outputPin</span><span class="o">,</span> <span class="nx">state</span><span class="p">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">//note, you have to explicitly turn it off, or else</span>
</span><span class='line'>          <span class="c1">//it will stay on, even after the program has stopped running</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      
</span><span class='line'>      <span class="c1">//called when a device is detached. i.e. the USB cable is disconnected</span>
</span><span class='line'>      <span class="c1">//while the program is running</span>
</span><span class='line'>      <span class="kd">private</span> <span class="kd">function</span> <span class="nx">onDetach</span><span class="p">(</span><span class="nx">e</span><span class="o">:</span><span class="nx">PhidgetEvent</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="c1">//you cannot access the devices here.</span>
</span><span class='line'>          <span class="nf">trace</span><span class="p">(</span><span class="s2">&quot;-------onDetach------- &quot;</span><span class="p">);</span>
</span><span class='line'>      <span class="p">}</span>        
</span><span class='line'>      
</span><span class='line'>      <span class="c1">//called once the connection to the proxy server is closed.</span>
</span><span class='line'>      <span class="kd">private</span> <span class="kd">function</span> <span class="nx">onDisconnect</span><span class="p">(</span><span class="nx">e</span><span class="o">:</span><span class="nx">PhidgetEvent</span><span class="p">)</span><span class="o">:</span><span class="nx">void</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="c1">//you cannot access the devices here</span>
</span><span class='line'>          <span class="nf">trace</span><span class="p">(</span><span class="s2">&quot;-------onAttach------- &quot;</span><span class="p">);</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>I am going to run this via ADL (Adobe AIR) included in the Flex SDK, and thus also need the following PhidgetHelloWorld-app.xml file:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version =&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>
</span><span class='line'><span class="nt">&lt;application</span> <span class="na">xmlns=</span><span class="s">&quot;http://ns.adobe.com/air/application/2.0&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;id&gt;</span>PhidgetsHelloWorld<span class="nt">&lt;/id&gt;</span>
</span><span class='line'>  <span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>  <span class="nt">&lt;filename&gt;</span>PhidgetsHelloWorld<span class="nt">&lt;/filename&gt;</span>
</span><span class='line'>  <span class="nt">&lt;description&gt;&lt;/description&gt;</span>
</span><span class='line'>  <span class="nt">&lt;name&gt;</span>PhidgetsHelloWorld<span class="nt">&lt;/name&gt;</span>
</span><span class='line'>  <span class="nt">&lt;copyright&gt;&lt;/copyright&gt;</span>
</span><span class='line'>  <span class="nt">&lt;initialWindow&gt;</span>
</span><span class='line'>      <span class="nt">&lt;content&gt;</span>PhidgetsHelloWorld.swf<span class="nt">&lt;/content&gt;</span>
</span><span class='line'>      <span class="nt">&lt;systemChrome&gt;</span>standard<span class="nt">&lt;/systemChrome&gt;</span>
</span><span class='line'>      <span class="nt">&lt;transparent&gt;</span>false<span class="nt">&lt;/transparent&gt;</span>
</span><span class='line'>      <span class="nt">&lt;visible&gt;</span>true<span class="nt">&lt;/visible&gt;</span>
</span><span class='line'>      <span class="nt">&lt;fullScreen&gt;</span>false<span class="nt">&lt;/fullScreen&gt;</span>
</span><span class='line'>      <span class="nt">&lt;autoOrients&gt;</span>false<span class="nt">&lt;/autoOrients&gt;</span>
</span><span class='line'>      <span class="nt">&lt;aspectRatio&gt;</span>portrait<span class="nt">&lt;/aspectRatio&gt;</span>
</span><span class='line'>      <span class="nt">&lt;renderMode&gt;</span>auto<span class="nt">&lt;/renderMode&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/initialWindow&gt;</span>
</span><span class='line'>  <span class="nt">&lt;customUpdateUI&gt;</span>false<span class="nt">&lt;/customUpdateUI&gt;</span>
</span><span class='line'>  <span class="nt">&lt;allowBrowserInvocation&gt;</span>false<span class="nt">&lt;/allowBrowserInvocation&gt;</span>
</span><span class='line'>  <span class="nt">&lt;icon&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/icon&gt;</span>
</span><span class='line'><span class="nt">&lt;/application&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>I am running it via ADL / Adobe AIR as it will easily allow me to see the trace output on the command line.</p>

<p>Here is the command to compile the program using MXMLC:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>mxmlc -library-path+=Phidget21Library.swc PhidgetHelloWorld.as
</span><span class='line'>foo
</span></code></pre></td></tr></table></div></figure>


<p>You may receive a warning about runtime shared libraries. You can safely ignore this.</p>

<p>If you get an error that mxmlc cant be found, then make sure you have added the <em>FLEXSDK/bin</em> directory to your system&rsquo;s path.</p>

<p>If you receive any errors, make sure you are linking in the Phidget library correctly. Once it compiles, you can test it on the command line with the following command:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>adl PhidgetHelloWorld-app.xml
</span></code></pre></td></tr></table></div></figure>


<p>When I run this on my machine the LED turns on on the Phidget, and I get the following output on the command line:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>-------onConnect-------
</span><span class='line'>-------onAttach-------
</span><span class='line'>Phidget InterfaceKit 8/8/8 :
</span><span class='line'>Version : 900
</span><span class='line'>Serial : 116799
</span></code></pre></td></tr></table></div></figure>


<p>If you run the SWF in the player, then you should see the LED turn on. If you run in Flash Authoring (FLA included) or FlashBuilder, then you should also see the trace output in the output panel.</p>

<p>Notice that once you close the program, the LED is still on. You have to explicitly turn off the LED. You can do this by modifying the code to turn it off, and then run it again.</p>

<p>This is an important point. The device may maintain its state even after the program has stopped running. Because of this, you should always set the device to a known state when your application starts up, and make sure it is in the correct state when you shut down your program.</p>

<p>Once you are at this point, it is just a matter of hooking up additional sensors, motors and outputs. The Phidgets ActionScript library is very well written, and makes it easy to work with additional Phidgets.</p>

<p>Make sure to check out all of the Phidgets and ActionScript related <a href="http://www.phidgets.com/programming_resources.php">docs</a> on the Phidgets site, as well as the <a href="http://www.phidgets.com/phorum/viewforum.php?f=10">Phidgets ActionScript forum</a>.</p>

<p>If you find any errors, or have any questions or suggestions, then please leave them in the comments.</p>
</div>


  <footer>
    <p class="meta">
      <!--
  

<span class="byline author vcard">Posted by <span class="fn">mikechambers</span></span>

      








  


<time datetime="2010-07-26T13:03:01-07:00" pubdate data-updated="true">Monday, July 26, 2010</time>
-->

  

<span class="byline author vcard">Posted by <span class="fn">mikechambers</span></span>
 on 








  


<time datetime="2010-07-26T13:03:01-07:00" pubdate data-updated="true">Monday, July 26, 2010</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/general/'>General</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://mikechambers.github.io//2010/07/26/getting-started-with-phidgets-and-actionscript/" data-via="mesh" data-counturl="http://mikechambers.github.io//2010/07/26/getting-started-with-phidgets-and-actionscript/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2010/07/15/fitc-san-francisco/" title="Previous Post: FITC San Francisco">&laquo; FITC San Francisco</a>
      
      
        <a class="basic-alignment right" href="/2010/07/29/as3corelib-library-moved-to-github/" title="Next Post: as3corelib Library moved to GitHub">as3corelib Library moved to GitHub &raquo;</a>
      
    </p>
  </footer>
</article>

</div>
<!--

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/12/14/test-post/">Test Post</a>
      </li>
    
      <li class="post">
        <a href="/2012/04/08/simple-http-server-for-local-testing/">Simple HTTP Server for Local Testing</a>
      </li>
    
      <li class="post">
        <a href="/2012/04/02/north-american-flash-community-tour/">North American Flash Community Tour</a>
      </li>
    
      <li class="post">
        <a href="/2012/02/22/flash-roadmap-whitepaper-published/">Flash Roadmap Whitepaper Published</a>
      </li>
    
      <li class="post">
        <a href="/2012/02/13/in-europe-to-discuss-flash-roadmap/">In Europe to Discuss Flash Roadmap</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/mikechambers">@mikechambers</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'mikechambers',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>My Pinboard</h1>
  <ul id="pinboard_linkroll">Fetching linkroll...</ul>
  <p><a href="http://pinboard.in/u:mikechambers">My Pinboard Bookmarks &raquo;</a></p>
</section>
<script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "mikechambers"; //id target for pinboard list
  var pinboard_count = 3; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>


<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/mikechambers@gmail.com?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

-->

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Mike Chambers -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'mikechambers';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
